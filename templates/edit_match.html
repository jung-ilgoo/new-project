<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Í≤ΩÍ∏∞ Í∏∞Î°ù ÏàòÏ†ï</title>
  <!-- Î∂ÄÌä∏Ïä§Ìä∏Îû© CSS CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    /* Ï∂îÍ∞Ä Ïª§Ïä§ÌÖÄ Ïä§ÌÉÄÏùº */
    body {
      background-color: #f4f4f4;
    }
    h1 {
      margin-top: 20px;
    }
    .team-box {
      background-color: #ffffff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .kda-container {
      display: flex;
      gap: 5px;
    }
    .kda-container input {
      width: 33%;
    }
    /* ÏûÖÎ†• ÌïÑÎìú Ïä§ÌÉÄÏùº */
    .player-input, .champion-input {
      width: 100%;
      padding: 0.375rem 0.75rem;
      font-size: 1rem;
      font-weight: 400;
      line-height: 1.5;
      color: #212529;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid #ced4da;
      border-radius: 0.25rem;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      margin-bottom: 0.5rem;
    }
    .player-input:focus, .champion-input:focus {
      border-color: #86b7fe;
      outline: 0;
      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
  </style>
</head>
<body>
  <div class="container my-4">
    <h1 class="text-center mb-4">‚úèÔ∏è Í≤ΩÍ∏∞ Í∏∞Î°ù ÏàòÏ†ï</h1>
    
    <form action="/update_match/{{ match[0] }}" method="POST" class="bg-white p-4 rounded shadow">
      <!-- Í≤ΩÍ∏∞ ÎÇ†Ïßú -->
      <div class="mb-3">
        <label for="match_date" class="form-label">Í≤ΩÍ∏∞ ÎÇ†Ïßú</label>
        <input type="date" id="match_date" name="match_date" class="form-control" value="{{ match[1] }}" required>
      </div>

      <!-- ÌîåÎ†àÏù¥Ïñ¥ Îç∞Ïù¥ÌÑ∞Î¶¨Ïä§Ìä∏ -->
      <datalist id="playersList">
        {% for p in players %}
        <option value="{{ p }}">{{ p }}</option>
        {% endfor %}
      </datalist>

      <!-- Ï±îÌîºÏñ∏ Îç∞Ïù¥ÌÑ∞Î¶¨Ïä§Ìä∏ -->
      <datalist id="championsList">
        {% for c in champions %}
        <option value="{{ c }}">{{ c }}</option>
        {% endfor %}
      </datalist>

      <div class="row">
        <!-- Î∏îÎ£®ÌåÄ -->
        <div class="col-md-6">
          <div class="p-3 mb-3" style="background-color: #ADD8E6; border-radius: 8px;">
            <h2 class="text-primary">üîπ Î∏îÎ£®ÌåÄ</h2>

            <!-- TOP -->
            <div class="mb-3">
              <label class="form-label">TOP</label>
              <input type="text" name="blue_top" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[2] }}" required>
              <input type="text" name="blue_top_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[3] }}" required>
              <div class="kda-container">
                <input type="number" name="blue_top_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[4] }}">
                <input type="number" name="blue_top_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[5] }}">
                <input type="number" name="blue_top_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[6] }}">
              </div>
            </div>

            <!-- JUNGLE -->
            <div class="mb-3">
              <label class="form-label">JUNGLE</label>
              <input type="text" name="blue_jungle" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[7] }}" required>
              <input type="text" name="blue_jungle_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[8] }}" required>
              <div class="kda-container">
                <input type="number" name="blue_jungle_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[9] }}">
                <input type="number" name="blue_jungle_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[10] }}">
                <input type="number" name="blue_jungle_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[11] }}">
              </div>
            </div>

            <!-- MID -->
            <div class="mb-3">
              <label class="form-label">MID</label>
              <input type="text" name="blue_mid" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[12] }}" required>
              <input type="text" name="blue_mid_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[13] }}" required>
              <div class="kda-container">
                <input type="number" name="blue_mid_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[14] }}">
                <input type="number" name="blue_mid_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[15] }}">
                <input type="number" name="blue_mid_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[16] }}">
              </div>
            </div>

            <!-- ADC -->
            <div class="mb-3">
              <label class="form-label">ADC</label>
              <input type="text" name="blue_adc" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[17] }}" required>
              <input type="text" name="blue_adc_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[18] }}" required>
              <div class="kda-container">
                <input type="number" name="blue_adc_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[19] }}">
                <input type="number" name="blue_adc_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[20] }}">
                <input type="number" name="blue_adc_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[21] }}">
              </div>
            </div>

            <!-- SUPPORT -->
            <div class="mb-3">
              <label class="form-label">SUPPORT</label>
              <input type="text" name="blue_support" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[22] }}" required>
              <input type="text" name="blue_support_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[23] }}" required>
              <div class="kda-container">
                <input type="number" name="blue_support_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[24] }}">
                <input type="number" name="blue_support_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[25] }}">
                <input type="number" name="blue_support_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[26] }}">
              </div>
            </div>
          </div>
        </div>

        <!-- Î†àÎìúÌåÄ -->
        <div class="col-md-6">
          <div class="p-3 mb-3" style="background-color: #FFB6C1; border-radius: 8px;">
            <h2 class="text-danger">üî∫ Î†àÎìúÌåÄ</h2>

            <!-- TOP -->
            <div class="mb-3">
              <label class="form-label">TOP</label>
              <input type="text" name="red_top" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[27] }}" required>
              <input type="text" name="red_top_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[28] }}" required>
              <div class="kda-container">
                <input type="number" name="red_top_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[29] }}">
                <input type="number" name="red_top_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[30] }}">
                <input type="number" name="red_top_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[31] }}">
              </div>
            </div>

            <!-- JUNGLE -->
            <div class="mb-3">
              <label class="form-label">JUNGLE</label>
              <input type="text" name="red_jungle" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[32] }}" required>
              <input type="text" name="red_jungle_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[33] }}" required>
              <div class="kda-container">
                <input type="number" name="red_jungle_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[34] }}">
                <input type="number" name="red_jungle_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[35] }}">
                <input type="number" name="red_jungle_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[36] }}">
              </div>
            </div>

            <!-- MID -->
            <div class="mb-3">
              <label class="form-label">MID</label>
              <input type="text" name="red_mid" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[37] }}" required>
              <input type="text" name="red_mid_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[38] }}" required>
              <div class="kda-container">
                <input type="number" name="red_mid_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[39] }}">
                <input type="number" name="red_mid_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[40] }}">
                <input type="number" name="red_mid_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[41] }}">
              </div>
            </div>

            <!-- ADC -->
            <div class="mb-3">
              <label class="form-label">ADC</label>
              <input type="text" name="red_adc" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[42] }}" required>
              <input type="text" name="red_adc_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[43] }}" required>
              <div class="kda-container">
                <input type="number" name="red_adc_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[44] }}">
                <input type="number" name="red_adc_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[45] }}">
                <input type="number" name="red_adc_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[46] }}">
              </div>
            </div>

            <!-- SUPPORT -->
            <div class="mb-3">
              <label class="form-label">SUPPORT</label>
              <input type="text" name="red_support" class="player-input" list="playersList" autocomplete="off" placeholder="ÌîåÎ†àÏù¥Ïñ¥ ÏÑ†ÌÉù" value="{{ match[47] }}" required>
              <input type="text" name="red_support_champion" class="champion-input" list="championsList" autocomplete="off" placeholder="Ï±îÌîºÏñ∏ ÏÑ†ÌÉù" value="{{ match[48] }}" required>
              <div class="kda-container">
                <input type="number" name="red_support_kills" placeholder="ÌÇ¨" min="0" class="form-control" value="{{ match[49] }}">
                <input type="number" name="red_support_deaths" placeholder="Îç∞Ïä§" min="0" class="form-control" value="{{ match[50] }}">
                <input type="number" name="red_support_assists" placeholder="Ïñ¥Ïãú" min="0" class="form-control" value="{{ match[51] }}">
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ÏäπÎ¶¨ ÌåÄ ÏÑ†ÌÉù -->
      <div class="mb-3 text-center">
        <h4>üèÜ ÏäπÎ¶¨ ÌåÄ</h4>
        <select id="winner" name="winner" class="form-select w-50 mx-auto" required>
          <option value="" disabled>ÏÑ†ÌÉùÌïòÏÑ∏Ïöî</option>
          <option value="blue" {% if match[52] == 'blue' %}selected{% endif %}>Î∏îÎ£®ÌåÄ</option>
          <option value="red" {% if match[52] == 'red' %}selected{% endif %}>Î†àÎìúÌåÄ</option>
        </select>
      </div>

      <!-- Î≤ÑÌäº Í∑∏Î£π -->
      <div class="text-center">
        <button type="submit" class="btn btn-primary px-4 py-2">ÏàòÏ†ï ÏôÑÎ£å</button>
        <a href="/history" class="btn btn-secondary px-4 py-2 ms-2">Ï∑®ÏÜå</a>
      </div>
    </form>
  </div>

  <!-- jQuery Ï∂îÍ∞Ä -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <!-- Î∂ÄÌä∏Ïä§Ìä∏Îû© JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <!-- ÌÇ§Î≥¥Îìú ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Í∞úÏÑ† Ïä§ÌÅ¨Î¶ΩÌä∏ -->
  <script>
    $(document).ready(function() {
      // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ï≤´ Î≤àÏß∏ ÏûÖÎ†• ÌïÑÎìúÏóê Ìè¨Ïª§Ïä§
      setTimeout(function() {
        $('input[name="match_date"]').focus();
      }, 100);
      
      // Enter ÌÇ§Î•º ÎàÑÎ•¥Î©¥ Îã§Ïùå ÌïÑÎìúÎ°ú Ïù¥ÎèôÌïòÎäî Í∏∞Îä•
      $('input, select').on('keydown', function(e) {
        if (e.key === 'Enter' && !$(this).is('textarea') && !$(this).is('button')) {
          e.preventDefault();
          const $formFields = $('input:visible, select:visible');
          const currentIndex = $formFields.index(this);
          $formFields.eq(currentIndex + 1).focus();
        }
      });
    });
  </script>
</body>
</html>